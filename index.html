<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Carrinho de Past√©is</title>

<style>
    body {
        background: #0a1a2b;
        font-family: Arial;
        margin: 0;
        padding: 0;
        color: white;
    }

    .container {
        max-width: 430px;
        margin: auto;
        background: #13294b;
        margin-top: 20px;
        padding: 20px;
        border-radius: 12px;
    }

    h2 {
        text-align: center;
        color: #4da3ff;
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-top: 12px;
        font-weight: bold;
        font-size: 14px;
    }

    select, input {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: none;
        background: #dfebff;
        margin-top: 5px;
        font-size: 15px;
    }

    button {
        width: 100%;
        padding: 14px;
        background: #4da3ff;
        color: white;
        border: none;
        margin-top: 18px;
        font-size: 17px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
    }

    button:hover {
        background: #3c8bdd;
    }

    .item {
        background: #1c3b66;
        padding: 12px;
        border-radius: 10px;
        margin-top: 10px;
    }

    .remove-btn {
        background: #ff4d4d;
        padding: 6px 10px;
        border: none;
        border-radius: 6px;
        margin-top: 8px;
        cursor: pointer;
        color: white;
        font-weight: bold;
    }

    .total-box {
        background: #0f2038;
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
        font-size: 18px;
        text-align: center;
        font-weight: bold;
        color: #4da3ff;
    }
</style>

</head>
<body>

<div class="container">

    <h2>Venda de Past√©is</h2>

    <label>Vendedor</label>
    <select id="vendedor">
        <option>Juan</option>
        <option>Jean</option>
        <option>Nathy</option>
    </select>

    <label>Cliente</label>
    <input type="text" id="cliente" placeholder="Nome do cliente">

    <label>Sabor</label>
    <select id="sabor">
        <option>Carne</option>
        <option>Frango</option>
    </select>

    <label>Recheio</label>
    <select id="recheio">
        <option>Requeij√£o</option>
        <option>Cheddar</option>
    </select>

    <label>Qtd. Past√©is (R$ 10,00)</label>
    <input type="number" id="qtdPastel" value="1" min="1">

    <label>Qtd. Refri (R$ 2,00)</label>
    <input type="number" id="qtdRefri" value="0" min="0">

    <button onclick="adicionarCarrinho()">Adicionar ao Carrinho</button>

    <h3 style="margin-top:25px; color:#4da3ff;">Carrinho</h3>
    <div id="carrinho"></div>

    <div class="total-box">
        Total: R$ <span id="totalGeral">0.00</span>
    </div>

    <button id="btnEnviar" onclick="enviarGrupo()">Enviar (Total: R$ 0,00)</button>

</div>

<script>
let itens = [];
const grupoLink = "https://chat.whatsapp.com/C8Vb1Y84j5S8goJxCTcg0Q";

function atualizarTotal() {
    let total = itens.reduce((soma, item) => soma + item.total, 0);
    document.getElementById("totalGeral").innerText = total.toFixed(2);
    document.getElementById("btnEnviar").innerText =
        `Enviar (Total: R$ ${total.toFixed(2)})`;
}

function adicionarCarrinho() {
    const sabor = document.getElementById("sabor").value;
    const recheio = document.getElementById("recheio").value;
    const qtdPastel = parseInt(document.getElementById("qtdPastel").value);
    const qtdRefri = parseInt(document.getElementById("qtdRefri").value);

    const total = qtdPastel * 10 + qtdRefri * 2;

    const item = {
        sabor,
        recheio,
        qtdPastel,
        qtdRefri,
        total
    };

    itens.push(item);
    renderizarCarrinho();
    atualizarTotal();
}

function removerItem(i) {
    itens.splice(i, 1);
    renderizarCarrinho();
    atualizarTotal();
}

function renderizarCarrinho() {
    const box = document.getElementById("carrinho");
    box.innerHTML = "";

    itens.forEach((item, i) => {
        box.innerHTML += `
        <div class="item">
            <strong>${item.sabor} c/ ${item.recheio}</strong><br>
            Past√©is: ${item.qtdPastel} = R$ ${(item.qtdPastel * 10).toFixed(2)}<br>
            Refri: ${item.qtdRefri} = R$ ${(item.qtdRefri * 2).toFixed(2)}<br>
            <strong>Total: R$ ${item.total.toFixed(2)}</strong><br>
            <button class="remove-btn" onclick="removerItem(${i})">Remover</button>
        </div>`;
    });
}

function enviarGrupo() {
    const cliente = document.getElementById("cliente").value;
    const vendedor = document.getElementById("vendedor").value;

    if (!cliente) {
        alert("Digite o nome do cliente!");
        return;
    }

    if (itens.length === 0) {
        alert("O carrinho est√° vazio!");
        return;
    }

    let msg = `üçΩ *Pedido de Past√©is*\nüë§ *Cliente:* ${cliente}\nüßë‚Äçüíº *Vendedor:* ${vendedor}\n\n`;

    itens.forEach((item, i) => {
        msg += `*Item ${i+1}:*\n` +
               `ü•ü ${item.sabor} c/ ${item.recheio}\n` +
               `Qtd Past√©is: ${item.qtdPastel} (R$ ${(item.qtdPastel * 10).toFixed(2)})\n` +
               `Refri: ${item.qtdRefri} (R$ ${(item.qtdRefri * 2).toFixed(2)})\n` +
               `‚û° Total item: R$ ${item.total.toFixed(2)}\n\n`;
    });

    const totalFinal = itens.reduce((soma, item) => soma + item.total, 0);

    msg += `üí∞ *Total Geral: R$ ${totalFinal.toFixed(2)}*`;

    const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(msg)}&link=${encodeURIComponent(grupoLink)}`;

    window.open(url, "_blank");
}
</script>

</body>
</html>